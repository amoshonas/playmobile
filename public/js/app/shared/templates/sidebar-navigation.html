<a ui-sref="base.home" class="logo">
    <img ng-src="{{store.logo || 'img/logo.png'}}" alt="" style="max-width:65px;">
</a>

<div ng-cloak>
    <ul ds-menu-aim class="navi">
        <li ng-repeat="category in categories" class="js-listRoot"> <!-- class="has-sub" -->
            <a ui-sref="base.category( {catName: category.slug} )" class="mainCategory categoryLevel" ng-click="hideMobileNav()">
                <span class="categoryDetail">{{ category.name  }}
                    <span class="hyicon hyicon-chevron-thin-right"></span>
                </span>
            </a>
            <div ng-if="category.subcategories" class="sub-navi">
                <ul class="sub-navi-list">
                    <li ng-repeat="sub2 in category.subcategories" class="flyoutSubCategory js-flyoutSubCategory {'has-sub': sub2.subcategories}">
                        <a data-ui-sref="base.category( {catName: sub2.slug} )" class="secondaryCategory categoryLevel" ng-class="{'noSubCategories': sub2.subcategories == undefined}">{{sub2.name }}<span class="hyicon hyicon-chevron-bold-right"></span></a>
                        <div class="tertiaryCategory">
                            <ul >
                                <li ng-repeat="sub3 in sub2.subcategories">
                                    <a class="tertiaryLevel categoryLevel" ui-sref="base.category( {catName: sub3.slug} )" >{{ sub3.name }}</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </li>
    </ul>
    <div class="seperator hidden-xs hidden-sm"></div>
</div>

<div class="nav-signInOut">
    <div class="signinContainer" ng-if="user.isAuthenticated">
        <a ng-click="logout()" class="signout">{{'SIGN_OUT' | translate}}</a>
        <a href="" class="my-profile" ng-click="myAccount()" title="{{'MY_ACCOUNT' | translate}}">
            <img src="./img/user-icon_small_active.png" class="user-avatar">
        </a>
    </div>
    <div class="signinContainer" ng-if="!user.isAuthenticated">
        <a ng-if="!user.isAuthenticated" class="signin hidden-xs hidden-sm" id="login-btn" pop-over  data-placement="auto"  popover-Class="loginPopover" popover-Controller="AuthModalDialogCtrl" template-Url="js/app/auth/templates/auth.html">
            {{'SIGN_IN' | translate}}
            <img src="./img/user-icon_small.png" class="user-avatar">
        </a>
    </div>
</div>

<div class="store-settings hidden-md hidden-lg" >
    <div ng-controller="languageSelectorController"  ng-cloak class="selectContainer">
        <select ng-model="language.selected" class="ui-select-bootstrap-transparent" ng-if="languages.length > 1" ng-options="lang.value for lang in languages track by lang.value">
            <!--<option value="">{{'SELECT_LANGUAGE' | translate}}</option>-->
        </select>
    </div>
    <div ng-controller="currencySelectorController" ng-cloak class="selectContainer">
        <select ng-model="currency.selected" class="ui-select-bootstrap-transparent" ng-if="currencies.length > 1" ng-options="curr.label for curr in currencies">
            <!--<option value="">{{'SELECT_CURRENCY' | translate}}</option>-->
        </select>
    </div>
</div>

<div class="store-settings hidden-sm hidden-xs">
    <div class="panel-group configSelector" id="accordionLocaleCurrency" role="tablist" aria-multiselectable="true">
        <div class="panel panel-default configSelector" ng-controller="languageSelectorController">
            <div class="panel-heading" role="tab" id="currentLocale">
                <a data-toggle="collapse" data-parent="#accordionLocaleCurrency" href="#collapseLocales" aria-expanded="false" aria-controls="collapseLocales">
                    <span class="panel-title">
                        {{language.selected.value | translate}}
                        <span class="caret"></span>
                    </span>
                </a>
            </div>
            <div id="collapseLocales" class="panel-collapse collapse" role="tabpanel" aria-labelledby="currentLocale">
                <div class="panel-body text-center entityWrapper" >
                    <a class="entity" ng-if="languages.length > 1" ng-repeat="lang in languages" ng-show="language.selected.iso != lang.iso" ng-click="updateLanguage(lang)" >
                        {{lang.value | translate}}
                    </a>
                </div>
            </div>
        </div>

        <div class="panel panel-default configSelector" ng-controller="currencySelectorController">
            <div class="panel-heading currencySelectorContainer" role="tab" id="currentCurrency">
                <a class="currencySelector" data-toggle="collapse" data-parent="#accordionLocaleCurrency" href="#collapseCurrencies" aria-expanded="false" aria-controls="collapseCurrencies">
                    <span class="panel-title">
                        {{currency.selected.id | translate}}
                        <span class="caret"></span>
                    </span>
                </a>
            </div>
            <div id="collapseCurrencies" class="panel-collapse collapse" role="tabpanel" aria-labelledby="currentCurrency" ng-controller="currencySelectorController">
                <div class="panel-body text-center entityWrapper" >
                    <a class="entity" ng-if="currencies.length > 1" ng-repeat="currencyType in currencies" ng-show="currency.selected.label != currencyType.label" ng-click="updateCurrency(currencyType)">
                        {{currencyType.label | translate}}
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

